{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{j49Z:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/categories\",function(){return r(\"mAMT\")}])},mAMT:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"default\",(function(){return I}));var n=r(\"o0o1\"),a=r.n(n),c=r(\"nKUr\"),o=r(\"HaE+\"),s=r(\"q1tI\"),i=r.n(s),l=r(\"YFqc\"),u=r.n(l),d=r(\"5Yp1\"),b=r(\"KQm4\"),j=r(\"rePB\"),p=r(\"ODXe\"),O=r(\"h4VS\"),h=r(\"vOnD\"),f=r(\"d76Q\"),x=r.n(f),g=r(\"zM5D\"),m=r(\"cWnB\"),y=r(\"QojX\"),v=r(\"3Z9Z\"),w=r(\"JI6e\"),k=r(\"jDKy\"),C=r(\"20a2\"),N=r(\"5qq8\");function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(j.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(){var e=Object(O.a)([\"\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n  border-top-right-radius: 5px;\\n  border-bottom-right-radius: 5px;\\n        columns={columns}\\n  height: 34px;\\n  width: 32px;\\n  text-align: center;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"]);return T=function(){return e},e}function D(){var e=Object(O.a)([\"\\n  height: 32px;\\n  width: 200px;\\n  border-radius: 3px;\\n  border-top-left-radius: 5px;\\n  border-bottom-left-radius: 5px;\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n  border: 1px solid #e5e5e5;\\n  padding: 0 32px 0 16px;\\n\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\"]);return D=function(){return e},e}var _=h.default.input(D()),E=Object(h.default)(m.a)(T()),F=function(e){var t=e.filterText,r=e.onFilter,n=e.onClear;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(_,{id:\"search\",type:\"text\",placeholder:\"Introduzca el nombre del producto a buscar\",\"aria-label\":\"Search Input\",value:t,onChange:r}),Object(c.jsx)(E,{type:\"button\",onClick:n,children:\"X\"})]})},J=function(e){var t=e.columns,r=e.data,n=e.setMsg,l=Object(C.useRouter)(),u=Object(s.useState)(!1),d=u[0],j=u[1],O=i.a.useState(\"\"),h=Object(p.a)(O,2),f=h[0],P=h[1],T=Object(s.useState)(!1),D=T[0],_=T[1],E={id:\"\",title:\"\"},J=Object(s.useState)(E),H=J[0],M=J[1],B=function(){return j(!1)},I=i.a.useState(!1),q=Object(p.a)(I,2),z=q[0],L=q[1],R=r.filter((function(e){return e.title&&e.title.toLowerCase().includes(f.toLowerCase())})),X=i.a.useMemo((function(){return Object(c.jsx)(F,{onFilter:function(e){return P(e.target.value)},onClear:function(){f&&(L(!z),P(\"\"))},filterText:f})}),[f,z]),V=function(e){M(S(S({},H),{},{id:e._id,title:e.title})),j(!0)},Z=function(){var e=Object(o.a)(a.a.mark((function e(t){var r,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.parse(Object(N.a)(l)),!1!==t.currentTarget.checkValidity()){e.next=7;break}t.preventDefault(),t.stopPropagation(),e.next=15;break;case 7:return _(!0),e.next=10,fetch(\"http://localhost:3001/categories/\".concat(H.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",\"x-access-token\":r.token},body:JSON.stringify({title:H.title})});case 10:return c=e.sent,e.next=13,c.json();case 13:\"success\"==(o=e.sent)?(n({status:1,msg:\"Se ha editado correctamente la categoria\"}),j(!1),M(E)):n({status:2,msg:o});case 15:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=t.map((function(e){return e})),G=Object(s.useCallback)((function(){return[].concat(Object(b.a)(A),[{name:\"Acciones\",allowOverflow:!0,right:!0,minWidth:\"200px\",cell:function(e){return Object(c.jsx)(\"div\",{children:Object(c.jsx)(\"button\",{className:\"btn btn-warning btn-sm\",type:\"button\",onClick:function(){return V(e)},style:{backgroundColor:\"aliceblue\"},children:Object(c.jsx)(\"i\",{className:\"fi-rr-edit\"})})})}}])}),[A]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a,{columns:G(),data:R,defaultSortField:\"title\",pagination:!0,paginationPerPage:5,paginationResetDefaultPage:z,subHeader:!0,subHeaderComponent:X,persistTableHead:!0}),Object(c.jsxs)(g.a,{size:\"lg\",show:d,onHide:B,children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsx)(g.a.Title,{children:\"Editar categor\\xeda\"})}),Object(c.jsx)(g.a.Body,{children:Object(c.jsx)(y.a,{validated:D,children:Object(c.jsxs)(y.a.Group,{as:v.a,style:{marginTop:\"30px\"},children:[Object(c.jsx)(y.a.Label,{column:!0,sm:3,children:\"Nombre Categor\\xeda\"}),Object(c.jsxs)(w.a,{sm:9,children:[Object(c.jsx)(k.a,{onChange:function(e){M(S(S({},H),{},{title:e.target.value}))},name:\"title\",id:\"title\",required:!0,value:H.title,type:\"text\",placeholder:\"Nombre\"}),Object(c.jsx)(y.a.Control.Feedback,{children:\"Correcto!\"}),Object(c.jsx)(y.a.Control.Feedback,{type:\"invalid\",children:\"Introduzca el nombre de la categor&iacuta;a\"})]})]})})}),Object(c.jsxs)(g.a.Footer,{children:[Object(c.jsx)(m.a,{variant:\"secondary\",onClick:B,children:\"Cerrar\"}),Object(c.jsx)(m.a,{variant:\"primary\",onClick:Z,children:\"Editar categor\\xeda\"})]})]})]})};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){Object(j.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e){var t=e.setMsg,r=Object(C.useRouter)(),n=Object(s.useState)(!1),i=n[0],l=n[1],u=Object(s.useState)(!1),d=u[0],b=u[1],j={title:\"\"},p=Object(s.useState)(j),O=p[0],h=p[1],f=function(){var e=Object(o.a)(a.a.mark((function e(n){var c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=JSON.parse(Object(N.a)(r)),!1!==n.currentTarget.checkValidity()){e.next=7;break}n.preventDefault(),n.stopPropagation(),e.next=15;break;case 7:return b(!0),e.next=10,fetch(\"http://localhost:3001/categories\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"x-access-token\":c.token},body:JSON.stringify(O)});case 10:return o=e.sent,e.next=13,o.json();case 13:\"success\"==e.sent?(t({status:1,msg:\"Se ha agregado correctamente la nueva categoria\"}),l(!1),h(j)):t({status:2,msg:\"Rellene el formulario\"});case 15:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){return l(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m.a,{variant:\"info\",onClick:function(){return l(!0)},children:\"Nueva Categor\\xeda\"}),Object(c.jsxs)(g.a,{size:\"lg\",show:i,onHide:x,children:[Object(c.jsx)(g.a.Header,{closeButton:!0,children:Object(c.jsx)(g.a.Title,{children:\"Nueva Categor\\xeda\"})}),Object(c.jsx)(g.a.Body,{children:Object(c.jsx)(y.a,{noValidate:!0,validated:d,children:Object(c.jsxs)(y.a.Group,{as:v.a,style:{marginTop:\"30px\"},children:[Object(c.jsx)(y.a.Label,{column:!0,sm:3,children:\"Nombre\"}),Object(c.jsxs)(w.a,{sm:9,children:[Object(c.jsx)(k.a,{onChange:function(e){h(M(M({},O),{},{title:e.target.value}))},name:\"title\",id:\"title\",required:!0,type:\"text\",placeholder:\"Nombre de la categoria\"}),Object(c.jsx)(y.a.Control.Feedback,{children:\"Correcto!\"}),Object(c.jsx)(y.a.Control.Feedback,{type:\"invalid\",children:\"Introduzca el nombre de la categoria\"})]})]})})}),Object(c.jsxs)(g.a.Footer,{children:[Object(c.jsx)(m.a,{variant:\"secondary\",onClick:x,children:\"Cerrar\"}),Object(c.jsx)(m.a,{variant:\"primary\",onClick:f,children:\"Guardar categor\\xeda\"})]})]})]})}function I(){var e=Object(C.useRouter)(),t=Object(s.useState)(\"\"),r=t[0],n=t[1],i=Object(s.useState)([]),l=i[0],b=i[1];function j(){return(j=Object(o.a)(a.a.mark((function t(){var r,n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(Object(N.a)(e)),t.next=3,fetch(\"http://localhost:3001/categories\",{headers:{\"Content-Type\":\"application/json\",\"x-access-token\":r.token}});case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,b(c);case 8:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}Object(s.useEffect)((function(){\"user\"===JSON.parse(Object(N.a)(e)).role&&e.push(\"/dashboard\"),function(){j.apply(this,arguments)}()}),[r]);return Object(c.jsxs)(d.a,{children:[Object(c.jsx)(\"h4\",{className:\"title-h1\",children:\"Listado de Categor\\xedas\"}),r?1==r.status?Object(c.jsxs)(\"div\",{className:\"alert alert-success\",role:\"alert\",children:[Object(c.jsx)(\"i\",{className:\"fi-rr-check\"}),r.msg]}):Object(c.jsx)(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:r.msg}):\"\",Object(c.jsxs)(\"div\",{className:\"container\",children:[Object(c.jsxs)(\"div\",{className:\"containerButtons\",children:[Object(c.jsx)(B,{setMsg:n}),Object(c.jsx)(u.a,{href:\"/products\",children:Object(c.jsx)(\"a\",{className:\"btn btn-primary btn-small\",children:\"Listado de Productos\"})})]}),Object(c.jsx)(J,{setMsg:n,className:\"mt-5\",columns:[{name:\"Id\",selector:\"_id\",omit:!0},{name:\"Categoria\",selector:\"title\",sortable:!0,editable:!0}],data:l})]})]})}}},[[\"j49Z\",0,2,1,3,4]]]);","map":{"version":3,"sources":["static/chunks/pages/categories-86e876c003a43cf9ba16.js"],"names":["_N_E","window","push","j49Z","module","exports","__webpack_require__","__NEXT_P","mAMT","__webpack_exports__","r","d","categories_categories","regenerator","regenerator_default","n","jsx_runtime","asyncToGenerator","react","react_default","next_link","link_default","Layout","toConsumableArray","defineProperty","slicedToArray","taggedTemplateLiteral","styled_components_browser_esm","index_cjs","index_cjs_default","Modal","Button","Form","Row","Col","FormControl","next_router","local","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_templateObject2","data","_templateObject","TextField","input","ClearButton","TableCategories_FilterComponent","_ref","filterText","onFilter","onClear","children","id","type","placeholder","aria-label","value","onChange","onClick","components_TableCategories","_ref2","columns","setMsg","router","_useState","show","setShow","_React$useState","a","useState","_React$useState2","setFilterText","_useState2","validated","setValidated","categoryObject","title","_useState3","category","setCategory","handleClose","_React$useState3","_React$useState4","resetPaginationToggle","setResetPaginationToggle","filteredItems","item","toLowerCase","includes","subHeaderComponentMemo","useMemo","e","edit","record","_id","handleSubmit","_ref3","mark","_callee","u","result","response","wrap","_context","prev","next","JSON","parse","currentTarget","checkValidity","preventDefault","stopPropagation","fetch","concat","method","headers","Content-Type","x-access-token","token","body","stringify","sent","json","status","msg","stop","_x","this","mergedColumns","map","col","createColumns","name","allowOverflow","right","minWidth","cell","row","className","style","backgroundColor","defaultSortField","pagination","paginationPerPage","paginationResetDefaultPage","subHeader","subHeaderComponent","persistTableHead","size","onHide","Header","closeButton","Title","Body","Group","as","marginTop","Label","column","sm","required","Control","Feedback","Footer","variant","NewCategory_ownKeys","NewCategory_objectSpread","newCategory","event","noValidate","categories","setCategories","_getData","resC","dataC","role","getData","href","selector","omit","sortable","editable"],"mappings":"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"},"name":"static/chunks/pages/categories-86e876c003a43cf9ba16.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[8],{\n\n/***/ \"j49Z\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/categories\",\n      function () {\n        return __webpack_require__(\"mAMT\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"mAMT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ categories_categories; });\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"o0o1\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"HaE+\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/next/link.js\nvar next_link = __webpack_require__(\"YFqc\");\nvar link_default = /*#__PURE__*/__webpack_require__.n(next_link);\n\n// EXTERNAL MODULE: ./components/Layout.js + 4 modules\nvar Layout = __webpack_require__(\"5Yp1\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(\"KQm4\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"rePB\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(\"ODXe\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(\"h4VS\");\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./node_modules/react-data-table-component/dist/index.cjs.js\nvar index_cjs = __webpack_require__(\"d76Q\");\nvar index_cjs_default = /*#__PURE__*/__webpack_require__.n(index_cjs);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Modal.js + 53 modules\nvar Modal = __webpack_require__(\"zM5D\");\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js + 2 modules\nvar Button = __webpack_require__(\"cWnB\");\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 10 modules\nvar Form = __webpack_require__(\"QojX\");\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Row.js\nvar Row = __webpack_require__(\"3Z9Z\");\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Col.js\nvar Col = __webpack_require__(\"JI6e\");\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/FormControl.js\nvar FormControl = __webpack_require__(\"jDKy\");\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar next_router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./utils/local.js\nvar local = __webpack_require__(\"5qq8\");\n\n// CONCATENATED MODULE: ./components/TableCategories.js\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject2() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n  border-top-right-radius: 5px;\\n  border-bottom-right-radius: 5px;\\n        columns={columns}\\n  height: 34px;\\n  width: 32px;\\n  text-align: center;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  height: 32px;\\n  width: 200px;\\n  border-radius: 3px;\\n  border-top-left-radius: 5px;\\n  border-bottom-left-radius: 5px;\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n  border: 1px solid #e5e5e5;\\n  padding: 0 32px 0 16px;\\n\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar TextField = styled_components_browser_esm[\"default\"].input(_templateObject());\nvar ClearButton = Object(styled_components_browser_esm[\"default\"])(Button[\"a\" /* default */])(_templateObject2());\n\nvar TableCategories_FilterComponent = function FilterComponent(_ref) {\n  var filterText = _ref.filterText,\n      onFilter = _ref.onFilter,\n      onClear = _ref.onClear;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField, {\n      id: \"search\",\n      type: \"text\",\n      placeholder: \"Introduzca el nombre del producto a buscar\",\n      \"aria-label\": \"Search Input\",\n      value: filterText,\n      onChange: onFilter\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ClearButton, {\n      type: \"button\",\n      onClick: onClear,\n      children: \"X\"\n    })]\n  });\n};\n\nvar TableCategories_TableCategories = function TableCategories(_ref2) {\n  var columns = _ref2.columns,\n      data = _ref2.data,\n      setMsg = _ref2.setMsg;\n  var router = Object(next_router[\"useRouter\"])();\n\n  var _useState = Object(react[\"useState\"])(false),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  var _React$useState = react_default.a.useState(\"\"),\n      _React$useState2 = Object(slicedToArray[\"a\" /* default */])(_React$useState, 2),\n      filterText = _React$useState2[0],\n      setFilterText = _React$useState2[1];\n\n  var _useState2 = Object(react[\"useState\"])(false),\n      validated = _useState2[0],\n      setValidated = _useState2[1];\n\n  var categoryObject = {\n    id: \"\",\n    title: \"\"\n  };\n\n  var _useState3 = Object(react[\"useState\"])(categoryObject),\n      category = _useState3[0],\n      setCategory = _useState3[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  var _React$useState3 = react_default.a.useState(false),\n      _React$useState4 = Object(slicedToArray[\"a\" /* default */])(_React$useState3, 2),\n      resetPaginationToggle = _React$useState4[0],\n      setResetPaginationToggle = _React$useState4[1];\n\n  var filteredItems = data.filter(function (item) {\n    return item.title && item.title.toLowerCase().includes(filterText.toLowerCase());\n  });\n  var subHeaderComponentMemo = react_default.a.useMemo(function () {\n    var handleClear = function handleClear() {\n      if (filterText) {\n        setResetPaginationToggle(!resetPaginationToggle);\n        setFilterText(\"\");\n      }\n    };\n\n    return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TableCategories_FilterComponent, {\n      onFilter: function onFilter(e) {\n        return setFilterText(e.target.value);\n      },\n      onClear: handleClear,\n      filterText: filterText\n    });\n  }, [filterText, resetPaginationToggle]);\n\n  var edit = function edit(record) {\n    setCategory(_objectSpread(_objectSpread({}, category), {}, {\n      id: record._id,\n      title: record.title\n    }));\n    handleShow();\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(e) {\n      var u, form, result, response;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              u = JSON.parse(Object(local[\"a\" /* checkLocal */])(router));\n              form = e.currentTarget;\n\n              if (!(form.checkValidity() === false)) {\n                _context.next = 7;\n                break;\n              }\n\n              e.preventDefault();\n              e.stopPropagation();\n              _context.next = 15;\n              break;\n\n            case 7:\n              setValidated(true);\n              _context.next = 10;\n              return fetch(\"http://localhost:3001/categories/\".concat(category.id), {\n                method: \"PUT\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  \"x-access-token\": u.token\n                },\n                body: JSON.stringify({\n                  title: category.title\n                })\n              });\n\n            case 10:\n              result = _context.sent;\n              _context.next = 13;\n              return result.json();\n\n            case 13:\n              response = _context.sent;\n\n              if (response == \"success\") {\n                setMsg({\n                  status: 1,\n                  msg: \"Se ha editado correctamente la categoria\"\n                });\n                setShow(false);\n                setCategory(categoryObject);\n              } else {\n                setMsg({\n                  status: 2,\n                  msg: response\n                });\n              }\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var del = /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(record) {\n      var u, result, response;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              u = JSON.parse(Object(local[\"a\" /* checkLocal */])(router));\n\n              if (!confirm(\"Estas seguro de eliminar la categor&iacute;a?\")) {\n                _context2.next = 13;\n                break;\n              }\n\n              _context2.next = 4;\n              return fetch(\"http://localhost:3001/categories/\".concat(record.id), {\n                method: \"DELETE\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  \"x-access-token\": u.token\n                }\n              });\n\n            case 4:\n              result = _context2.sent;\n              console.log(result);\n              _context2.next = 8;\n              return result.json();\n\n            case 8:\n              response = _context2.sent;\n              console.log(\"response:\", response);\n\n              if (response == \"success\") {\n                setMsg({\n                  status: 1,\n                  msg: \"Se ha eliminado correctamente la categoria\"\n                });\n              } else {\n                setMsg({\n                  status: 1,\n                  msg: \"Ha ocurrido un error\"\n                });\n              }\n\n              _context2.next = 13;\n              break;\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function del(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var mergedColumns = columns.map(function (col) {\n    return col;\n  });\n  var createColumns = Object(react[\"useCallback\"])(function () {\n    return [].concat(Object(toConsumableArray[\"a\" /* default */])(mergedColumns), [{\n      name: \"Acciones\",\n      allowOverflow: true,\n      right: true,\n      minWidth: \"200px\",\n      cell: function cell(row) {\n        return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n            className: \"btn btn-warning btn-sm\",\n            type: \"button\",\n            onClick: function onClick() {\n              return edit(row);\n            },\n            style: {\n              backgroundColor: \"aliceblue\"\n            },\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\", {\n              className: \"fi-rr-edit\"\n            })\n          })\n        });\n      }\n    }]);\n  }, [mergedColumns]);\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_cjs_default.a, {\n      columns: createColumns(),\n      data: filteredItems,\n      defaultSortField: \"title\",\n      pagination: true,\n      paginationPerPage: 5,\n      paginationResetDefaultPage: resetPaginationToggle // optionally, a hook to reset pagination to page 1\n      ,\n      subHeader: true,\n      subHeaderComponent: subHeaderComponentMemo,\n      persistTableHead: true\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */], {\n      size: \"lg\",\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header, {\n        closeButton: true,\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Title, {\n          children: \"Editar categor\\xEDa\"\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body, {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */], {\n          validated: validated,\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group, {\n            as: Row[\"a\" /* default */],\n            style: {\n              marginTop: \"30px\"\n            },\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label, {\n              column: true,\n              sm: 3,\n              children: \"Nombre Categor\\xEDa\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */], {\n              sm: 9,\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControl[\"a\" /* default */], {\n                onChange: function onChange(e) {\n                  setCategory(_objectSpread(_objectSpread({}, category), {}, {\n                    title: e.target.value\n                  }));\n                },\n                name: \"title\",\n                id: \"title\",\n                required: true,\n                value: category.title,\n                type: \"text\",\n                placeholder: \"Nombre\"\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback, {\n                children: \"Correcto!\"\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback, {\n                type: \"invalid\",\n                children: \"Introduzca el nombre de la categor&iacuta;a\"\n              })]\n            })]\n          })\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Footer, {\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */], {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Cerrar\"\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */], {\n          variant: \"primary\",\n          onClick: handleSubmit,\n          children: \"Editar categor\\xEDa\"\n        })]\n      })]\n    })]\n  });\n};\n\n/* harmony default export */ var components_TableCategories = (TableCategories_TableCategories);\n// CONCATENATED MODULE: ./components/NewCategory.js\n\n\n\n\n\n\n\nfunction NewCategory_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction NewCategory_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { NewCategory_ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { NewCategory_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\nfunction newCategory(_ref) {\n  var setMsg = _ref.setMsg;\n  var router = Object(next_router[\"useRouter\"])();\n\n  var _useState = Object(react[\"useState\"])(false),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  var _useState2 = Object(react[\"useState\"])(false),\n      validated = _useState2[0],\n      setValidated = _useState2[1];\n\n  var categoryObject = {\n    title: \"\"\n  };\n\n  var _useState3 = Object(react[\"useState\"])(categoryObject),\n      category = _useState3[0],\n      setCategory = _useState3[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(event) {\n      var u, form, result, response;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              u = JSON.parse(Object(local[\"a\" /* checkLocal */])(router));\n              form = event.currentTarget;\n\n              if (!(form.checkValidity() === false)) {\n                _context.next = 7;\n                break;\n              }\n\n              event.preventDefault();\n              event.stopPropagation();\n              _context.next = 15;\n              break;\n\n            case 7:\n              setValidated(true);\n              _context.next = 10;\n              return fetch(\"http://localhost:3001/categories\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  \"x-access-token\": u.token\n                },\n                body: JSON.stringify(category)\n              });\n\n            case 10:\n              result = _context.sent;\n              _context.next = 13;\n              return result.json();\n\n            case 13:\n              response = _context.sent;\n\n              if (response == \"success\") {\n                setMsg({\n                  status: 1,\n                  msg: \"Se ha agregado correctamente la nueva categoria\"\n                });\n                setShow(false);\n                setCategory(categoryObject);\n              } else {\n                setMsg({\n                  status: 2,\n                  msg: 'Rellene el formulario'\n                });\n              }\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */], {\n      variant: \"info\",\n      onClick: handleShow,\n      children: \"Nueva Categor\\xEDa\"\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */], {\n      size: \"lg\",\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header, {\n        closeButton: true,\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Title, {\n          children: \"Nueva Categor\\xEDa\"\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body, {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */], {\n          noValidate: true,\n          validated: validated,\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group, {\n            as: Row[\"a\" /* default */],\n            style: {\n              marginTop: \"30px\"\n            },\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label, {\n              column: true,\n              sm: 3,\n              children: \"Nombre\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Col[\"a\" /* default */], {\n              sm: 9,\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControl[\"a\" /* default */], {\n                onChange: function onChange(e) {\n                  setCategory(NewCategory_objectSpread(NewCategory_objectSpread({}, category), {}, {\n                    title: e.target.value\n                  }));\n                },\n                name: \"title\",\n                id: \"title\",\n                required: true,\n                type: \"text\",\n                placeholder: \"Nombre de la categoria\"\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback, {\n                children: \"Correcto!\"\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback, {\n                type: \"invalid\",\n                children: \"Introduzca el nombre de la categoria\"\n              })]\n            })]\n          })\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Footer, {\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */], {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Cerrar\"\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */], {\n          variant: \"primary\",\n          onClick: handleSubmit,\n          children: \"Guardar categor\\xEDa\"\n        })]\n      })]\n    })]\n  });\n}\n// CONCATENATED MODULE: ./pages/categories.js\n\n\n\n\n\n\n\n\n\n\n\nfunction categories_categories() {\n  var router = Object(next_router[\"useRouter\"])();\n\n  var _useState = Object(react[\"useState\"])(\"\"),\n      msg = _useState[0],\n      setMsg = _useState[1];\n\n  var _useState2 = Object(react[\"useState\"])([]),\n      categories = _useState2[0],\n      setCategories = _useState2[1];\n\n  function getData() {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n      var u, resC, dataC;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              u = JSON.parse(Object(local[\"a\" /* checkLocal */])(router));\n              _context.next = 3;\n              return fetch(\"http://localhost:3001/categories\", {\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  \"x-access-token\": u.token\n                }\n              });\n\n            case 3:\n              resC = _context.sent;\n              _context.next = 6;\n              return resC.json();\n\n            case 6:\n              dataC = _context.sent;\n              setCategories(dataC);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  Object(react[\"useEffect\"])(function () {\n    var u = JSON.parse(Object(local[\"a\" /* checkLocal */])(router));\n\n    if (u.role === \"user\") {\n      router.push('/dashboard');\n    }\n\n    getData();\n  }, [msg]);\n  var columns = [{\n    name: \"Id\",\n    selector: \"_id\",\n    omit: true\n  }, {\n    name: \"Categoria\",\n    selector: \"title\",\n    sortable: true,\n    editable: true\n  }];\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Layout[\"a\" /* default */], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\", {\n      className: \"title-h1\",\n      children: \"Listado de Categor\\xEDas\"\n    }), msg ? msg.status == 1 ? /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      className: \"alert alert-success\",\n      role: \"alert\",\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\", {\n        className: \"fi-rr-check\"\n      }), msg.msg]\n    }) : /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: msg.msg\n    }) : \"\", /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n        className: \"containerButtons\",\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(newCategory, {\n          setMsg: setMsg\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(link_default.a, {\n          href: \"/products\",\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n            className: \"btn btn-primary btn-small\",\n            children: \"Listado de Productos\"\n          })\n        })]\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_TableCategories, {\n        setMsg: setMsg,\n        className: \"mt-5\",\n        columns: columns,\n        data: categories\n      })]\n    })]\n  });\n}\n\n/***/ })\n\n},[[\"j49Z\",0,2,1,3,4]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Owner\\Desktop\\kaciques\\front\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fcategories&absolutePagePath=private-next-pages%2Fcategories.js!","C:\\Users\\Owner\\Desktop\\kaciques\\front\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Owner\\Desktop\\kaciques\\front\\components\\TableCategories.js","C:\\Users\\Owner\\Desktop\\kaciques\\front\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Owner\\Desktop\\kaciques\\front\\components\\NewCategory.js","C:\\Users\\Owner\\Desktop\\kaciques\\front\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\Users\\Owner\\Desktop\\kaciques\\front\\pages\\categories.js"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAkC;AACzD;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNiI;AACjB;AACe;AACJ;AACF;AACvE;AACQ;AACV;AACyF;;AAEzI,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,yCAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEphB;AACA,aAAa,gDAAsB,iCAAiC,iCAAiC,iCAAiC,oCAAoC,mBAAmB,QAAQ,iBAAiB,gBAAgB,uBAAuB,kBAAkB,wBAAwB,4BAA4B;;AAEnU;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,gDAAsB,oBAAoB,iBAAiB,uBAAuB,gCAAgC,mCAAmC,+BAA+B,kCAAkC,8BAA8B,2BAA2B,eAAe,sBAAsB,KAAK;;AAEtU;AACA;AACA;;AAEA;AACA;;AAE6D;AACtB;AACY;AACT;AACE;AACJ;AACF;AACA;AACc;AACE;AACd;AACI;AAC5C,gBAAgB,wCAAM;AACtB,kBAAkB,gDAAM,CAAC,yBAAM;;AAE/B,IAAI,+BAAe;AACnB;AACA;AACA;AACA,sBAAsB,2BAAK,CAAC,uBAAS;AACrC,4BAA4B,0BAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,gBAAgB,0BAAI;AACzB;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA,IAAI,+BAAe;AACnB;AACA;AACA;AACA,eAAe,gCAAS;;AAExB,kBAAkB,yBAAQ;AAC1B;AACA;;AAEA,wBAAwB,eAAK;AAC7B,yBAAyB,wCAAc;AACvC;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB,eAAK;AAC9B,yBAAyB,wCAAc;AACvC;AACA;;AAEA;AACA;AACA,GAAG;AACH,+BAA+B,eAAK;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,0BAAI,CAAC,+BAAe;AAC5C;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA,8CAA8C,eAAe;AAC7D;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE;AACA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA,6BAA6B,mCAAU;AACvC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB,eAAe;;AAEf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE;AACA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA,6BAA6B,mCAAU;;AAEvC,uEAAuE;AACvE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,eAAe;AACf;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH,sBAAsB,4BAAW;AACjC,qBAAqB,4CAAkB;AACvC;AACA;AACA;AACA;AACA;AACA,4BAA4B,0BAAI;AAChC,iCAAiC,0BAAI;AACrC;AACA;AACA;AACA;AACA,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","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/categories\",\n      function () {\n        return require(\"private-next-pages/categories.js\");\n      }\n    ]);\n  ","import _toConsumableArray from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _taggedTemplateLiteral from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n  border-top-right-radius: 5px;\\n  border-bottom-right-radius: 5px;\\n        columns={columns}\\n  height: 34px;\\n  width: 32px;\\n  text-align: center;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 32px;\\n  width: 200px;\\n  border-radius: 3px;\\n  border-top-left-radius: 5px;\\n  border-bottom-left-radius: 5px;\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n  border: 1px solid #e5e5e5;\\n  padding: 0 32px 0 16px;\\n\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useCallback, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport DataTable from \"react-data-table-component\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport { useRouter } from \"next/router\";\nimport { checkLocal } from \"../utils/local\";\nvar TextField = styled.input(_templateObject());\nvar ClearButton = styled(Button)(_templateObject2());\n\nvar FilterComponent = function FilterComponent(_ref) {\n  var filterText = _ref.filterText,\n      onFilter = _ref.onFilter,\n      onClear = _ref.onClear;\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(TextField, {\n      id: \"search\",\n      type: \"text\",\n      placeholder: \"Introduzca el nombre del producto a buscar\",\n      \"aria-label\": \"Search Input\",\n      value: filterText,\n      onChange: onFilter\n    }), /*#__PURE__*/_jsx(ClearButton, {\n      type: \"button\",\n      onClick: onClear,\n      children: \"X\"\n    })]\n  });\n};\n\nvar TableCategories = function TableCategories(_ref2) {\n  var columns = _ref2.columns,\n      data = _ref2.data,\n      setMsg = _ref2.setMsg;\n  var router = useRouter();\n\n  var _useState = useState(false),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      filterText = _React$useState2[0],\n      setFilterText = _React$useState2[1];\n\n  var _useState2 = useState(false),\n      validated = _useState2[0],\n      setValidated = _useState2[1];\n\n  var categoryObject = {\n    id: \"\",\n    title: \"\"\n  };\n\n  var _useState3 = useState(categoryObject),\n      category = _useState3[0],\n      setCategory = _useState3[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      resetPaginationToggle = _React$useState4[0],\n      setResetPaginationToggle = _React$useState4[1];\n\n  var filteredItems = data.filter(function (item) {\n    return item.title && item.title.toLowerCase().includes(filterText.toLowerCase());\n  });\n  var subHeaderComponentMemo = React.useMemo(function () {\n    var handleClear = function handleClear() {\n      if (filterText) {\n        setResetPaginationToggle(!resetPaginationToggle);\n        setFilterText(\"\");\n      }\n    };\n\n    return /*#__PURE__*/_jsx(FilterComponent, {\n      onFilter: function onFilter(e) {\n        return setFilterText(e.target.value);\n      },\n      onClear: handleClear,\n      filterText: filterText\n    });\n  }, [filterText, resetPaginationToggle]);\n\n  var edit = function edit(record) {\n    setCategory(_objectSpread(_objectSpread({}, category), {}, {\n      id: record._id,\n      title: record.title\n    }));\n    handleShow();\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var u, form, result, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              u = JSON.parse(checkLocal(router));\n              form = e.currentTarget;\n\n              if (!(form.checkValidity() === false)) {\n                _context.next = 7;\n                break;\n              }\n\n              e.preventDefault();\n              e.stopPropagation();\n              _context.next = 15;\n              break;\n\n            case 7:\n              setValidated(true);\n              _context.next = 10;\n              return fetch(\"http://localhost:3001/categories/\".concat(category.id), {\n                method: \"PUT\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  \"x-access-token\": u.token\n                },\n                body: JSON.stringify({\n                  title: category.title\n                })\n              });\n\n            case 10:\n              result = _context.sent;\n              _context.next = 13;\n              return result.json();\n\n            case 13:\n              response = _context.sent;\n\n              if (response == \"success\") {\n                setMsg({\n                  status: 1,\n                  msg: \"Se ha editado correctamente la categoria\"\n                });\n                setShow(false);\n                setCategory(categoryObject);\n              } else {\n                setMsg({\n                  status: 2,\n                  msg: response\n                });\n              }\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var del = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(record) {\n      var u, result, response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              u = JSON.parse(checkLocal(router));\n\n              if (!confirm(\"Estas seguro de eliminar la categor&iacute;a?\")) {\n                _context2.next = 13;\n                break;\n              }\n\n              _context2.next = 4;\n              return fetch(\"http://localhost:3001/categories/\".concat(record.id), {\n                method: \"DELETE\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  \"x-access-token\": u.token\n                }\n              });\n\n            case 4:\n              result = _context2.sent;\n              console.log(result);\n              _context2.next = 8;\n              return result.json();\n\n            case 8:\n              response = _context2.sent;\n              console.log(\"response:\", response);\n\n              if (response == \"success\") {\n                setMsg({\n                  status: 1,\n                  msg: \"Se ha eliminado correctamente la categoria\"\n                });\n              } else {\n                setMsg({\n                  status: 1,\n                  msg: \"Ha ocurrido un error\"\n                });\n              }\n\n              _context2.next = 13;\n              break;\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function del(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var mergedColumns = columns.map(function (col) {\n    return col;\n  });\n  var createColumns = useCallback(function () {\n    return [].concat(_toConsumableArray(mergedColumns), [{\n      name: \"Acciones\",\n      allowOverflow: true,\n      right: true,\n      minWidth: \"200px\",\n      cell: function cell(row) {\n        return /*#__PURE__*/_jsx(\"div\", {\n          children: /*#__PURE__*/_jsx(\"button\", {\n            className: \"btn btn-warning btn-sm\",\n            type: \"button\",\n            onClick: function onClick() {\n              return edit(row);\n            },\n            style: {\n              backgroundColor: \"aliceblue\"\n            },\n            children: /*#__PURE__*/_jsx(\"i\", {\n              className: \"fi-rr-edit\"\n            })\n          })\n        });\n      }\n    }]);\n  }, [mergedColumns]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(DataTable, {\n      columns: createColumns(),\n      data: filteredItems,\n      defaultSortField: \"title\",\n      pagination: true,\n      paginationPerPage: 5,\n      paginationResetDefaultPage: resetPaginationToggle // optionally, a hook to reset pagination to page 1\n      ,\n      subHeader: true,\n      subHeaderComponent: subHeaderComponentMemo,\n      persistTableHead: true\n    }), /*#__PURE__*/_jsxs(Modal, {\n      size: \"lg\",\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsx(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsx(Modal.Title, {\n          children: \"Editar categor\\xEDa\"\n        })\n      }), /*#__PURE__*/_jsx(Modal.Body, {\n        children: /*#__PURE__*/_jsx(Form, {\n          validated: validated,\n          children: /*#__PURE__*/_jsxs(Form.Group, {\n            as: Row,\n            style: {\n              marginTop: \"30px\"\n            },\n            children: [/*#__PURE__*/_jsx(Form.Label, {\n              column: true,\n              sm: 3,\n              children: \"Nombre Categor\\xEDa\"\n            }), /*#__PURE__*/_jsxs(Col, {\n              sm: 9,\n              children: [/*#__PURE__*/_jsx(FormControl, {\n                onChange: function onChange(e) {\n                  setCategory(_objectSpread(_objectSpread({}, category), {}, {\n                    title: e.target.value\n                  }));\n                },\n                name: \"title\",\n                id: \"title\",\n                required: true,\n                value: category.title,\n                type: \"text\",\n                placeholder: \"Nombre\"\n              }), /*#__PURE__*/_jsx(Form.Control.Feedback, {\n                children: \"Correcto!\"\n              }), /*#__PURE__*/_jsx(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Introduzca el nombre de la categor&iacuta;a\"\n              })]\n            })]\n          })\n        })\n      }), /*#__PURE__*/_jsxs(Modal.Footer, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Cerrar\"\n        }), /*#__PURE__*/_jsx(Button, {\n          variant: \"primary\",\n          onClick: handleSubmit,\n          children: \"Editar categor\\xEDa\"\n        })]\n      })]\n    })]\n  });\n};\n\nexport default TableCategories;","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _defineProperty from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState } from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport { useRouter } from \"next/router\";\nimport { checkLocal } from \"../utils/local\";\nexport default function newCategory(_ref) {\n  var setMsg = _ref.setMsg;\n  var router = useRouter();\n\n  var _useState = useState(false),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  var _useState2 = useState(false),\n      validated = _useState2[0],\n      setValidated = _useState2[1];\n\n  var categoryObject = {\n    title: \"\"\n  };\n\n  var _useState3 = useState(categoryObject),\n      category = _useState3[0],\n      setCategory = _useState3[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var u, form, result, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              u = JSON.parse(checkLocal(router));\n              form = event.currentTarget;\n\n              if (!(form.checkValidity() === false)) {\n                _context.next = 7;\n                break;\n              }\n\n              event.preventDefault();\n              event.stopPropagation();\n              _context.next = 15;\n              break;\n\n            case 7:\n              setValidated(true);\n              _context.next = 10;\n              return fetch(\"http://localhost:3001/categories\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  \"x-access-token\": u.token\n                },\n                body: JSON.stringify(category)\n              });\n\n            case 10:\n              result = _context.sent;\n              _context.next = 13;\n              return result.json();\n\n            case 13:\n              response = _context.sent;\n\n              if (response == \"success\") {\n                setMsg({\n                  status: 1,\n                  msg: \"Se ha agregado correctamente la nueva categoria\"\n                });\n                setShow(false);\n                setCategory(categoryObject);\n              } else {\n                setMsg({\n                  status: 2,\n                  msg: 'Rellene el formulario'\n                });\n              }\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Button, {\n      variant: \"info\",\n      onClick: handleShow,\n      children: \"Nueva Categor\\xEDa\"\n    }), /*#__PURE__*/_jsxs(Modal, {\n      size: \"lg\",\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsx(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsx(Modal.Title, {\n          children: \"Nueva Categor\\xEDa\"\n        })\n      }), /*#__PURE__*/_jsx(Modal.Body, {\n        children: /*#__PURE__*/_jsx(Form, {\n          noValidate: true,\n          validated: validated,\n          children: /*#__PURE__*/_jsxs(Form.Group, {\n            as: Row,\n            style: {\n              marginTop: \"30px\"\n            },\n            children: [/*#__PURE__*/_jsx(Form.Label, {\n              column: true,\n              sm: 3,\n              children: \"Nombre\"\n            }), /*#__PURE__*/_jsxs(Col, {\n              sm: 9,\n              children: [/*#__PURE__*/_jsx(FormControl, {\n                onChange: function onChange(e) {\n                  setCategory(_objectSpread(_objectSpread({}, category), {}, {\n                    title: e.target.value\n                  }));\n                },\n                name: \"title\",\n                id: \"title\",\n                required: true,\n                type: \"text\",\n                placeholder: \"Nombre de la categoria\"\n              }), /*#__PURE__*/_jsx(Form.Control.Feedback, {\n                children: \"Correcto!\"\n              }), /*#__PURE__*/_jsx(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Introduzca el nombre de la categoria\"\n              })]\n            })]\n          })\n        })\n      }), /*#__PURE__*/_jsxs(Modal.Footer, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Cerrar\"\n        }), /*#__PURE__*/_jsx(Button, {\n          variant: \"primary\",\n          onClick: handleSubmit,\n          children: \"Guardar categor\\xEDa\"\n        })]\n      })]\n    })]\n  });\n}","import _regeneratorRuntime from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/regenerator\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"C:/Users/Owner/Desktop/kaciques/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport Layout from \"../components/Layout\";\nimport TableCategories from \"../components/TableCategories\";\nimport NewCategory from '../components/NewCategory';\nimport { useRouter } from \"next/router\";\nimport { checkLocal } from \"../utils/local\";\nexport default function categories() {\n  var router = useRouter();\n\n  var _useState = useState(\"\"),\n      msg = _useState[0],\n      setMsg = _useState[1];\n\n  var _useState2 = useState([]),\n      categories = _useState2[0],\n      setCategories = _useState2[1];\n\n  function getData() {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var u, resC, dataC;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              u = JSON.parse(checkLocal(router));\n              _context.next = 3;\n              return fetch(\"http://localhost:3001/categories\", {\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  \"x-access-token\": u.token\n                }\n              });\n\n            case 3:\n              resC = _context.sent;\n              _context.next = 6;\n              return resC.json();\n\n            case 6:\n              dataC = _context.sent;\n              setCategories(dataC);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    var u = JSON.parse(checkLocal(router));\n\n    if (u.role === \"user\") {\n      router.push('/dashboard');\n    }\n\n    getData();\n  }, [msg]);\n  var columns = [{\n    name: \"Id\",\n    selector: \"_id\",\n    omit: true\n  }, {\n    name: \"Categoria\",\n    selector: \"title\",\n    sortable: true,\n    editable: true\n  }];\n  return /*#__PURE__*/_jsxs(Layout, {\n    children: [/*#__PURE__*/_jsx(\"h4\", {\n      className: \"title-h1\",\n      children: \"Listado de Categor\\xEDas\"\n    }), msg ? msg.status == 1 ? /*#__PURE__*/_jsxs(\"div\", {\n      className: \"alert alert-success\",\n      role: \"alert\",\n      children: [/*#__PURE__*/_jsx(\"i\", {\n        className: \"fi-rr-check\"\n      }), msg.msg]\n    }) : /*#__PURE__*/_jsx(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: msg.msg\n    }) : \"\", /*#__PURE__*/_jsxs(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"containerButtons\",\n        children: [/*#__PURE__*/_jsx(NewCategory, {\n          setMsg: setMsg\n        }), /*#__PURE__*/_jsx(Link, {\n          href: \"/products\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: \"btn btn-primary btn-small\",\n            children: \"Listado de Productos\"\n          })\n        })]\n      }), /*#__PURE__*/_jsx(TableCategories, {\n        setMsg: setMsg,\n        className: \"mt-5\",\n        columns: columns,\n        data: categories\n      })]\n    })]\n  });\n}"]}}