_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"HaE+":function(e,t,n){"use strict";function a(e,t,n,a,r,c,s){try{var o=e[c](s),i=o.value}catch(l){return void n(l)}o.done?t(i):Promise.resolve(i).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,c){var s=e.apply(t,n);function o(e){a(s,r,c,o,i,"next",e)}function i(e){a(s,r,c,o,i,"throw",e)}o(void 0)}))}}n.d(t,"a",(function(){return r}))},KV1Y:function(e,t,n){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";try{t=Math.abs(t),t=isNaN(t)?2:t;var r=e<0?"-":"",c=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),s=c.length>3?c.length%3:0;return r+(s?c.substr(0,s)+a:"")+c.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+a)+(t?n+Math.abs(e-c).toFixed(t).slice(2):"")}catch(o){console.log(o)}}function r(e){return e.toString().replace(/\./g,"").replace(/\,/g,".")}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}))},"fC/G":function(e,t,n){"use strict";n.r(t);var a=n("nKUr"),r=n("o0o1"),c=n.n(r),s=n("HaE+"),o=n("q1tI"),i=n("5Yp1"),l=n("KV1Y"),u=n("5qq8"),d=n("20a2");t.default=function(){var e=Object(d.useRouter)(),t=Object(o.useState)([]),n=t[0],r=t[1],h=Object(o.useState)(""),p=h[0],b=h[1],f=Object(o.useState)(""),j=f[0],v=f[1],g=function(){var t=Object(s.a)(c.a.mark((function t(){var n,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(Object(u.a)(e)),t.next=3,fetch("http://localhost:3001/settings",{headers:{"Content-Type":"application/json","x-access-token":n.token}});case 3:return a=t.sent,t.next=6,a.json();case 6:s=t.sent,b(Object(l.a)(s[0].dolar)),r(s);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){"user"===JSON.parse(Object(u.a)(e)).role&&e.push("/dashboard"),g()}));var m=function(){var t=Object(s.a)(c.a.mark((function t(a){var r,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==p){t.next=5;break}v({status:2,msg:"Debe introducir el precio del dolar"}),t.next=14;break;case 5:return r=JSON.parse(Object(u.a)(e)),t.next=8,fetch("http://localhost:3001/settings/".concat(n[0]._id),{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":r.token},body:JSON.stringify({dolar:Object(l.b)(p)})});case 8:return s=t.sent,t.next=11,s.json();case 11:o=t.sent,v("success"==o?{status:1,msg:"Success"}:{status:2,msg:o}),console.log(o);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(i.a,{children:[Object(a.jsx)("h4",{className:"title-h1",children:"Configuraci\xf3n"}),j?1==j.status?Object(a.jsxs)("div",{className:"alert alert-success",role:"alert",children:[Object(a.jsx)("i",{className:"fi-rr-check"})," Se ha modificado correctamente"]}):Object(a.jsx)("div",{className:"alert alert-danger",role:"alert",children:j.msg}):"",Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"row mb-5",children:[Object(a.jsx)("div",{className:"col-md-2 col-xs-12 label",children:Object(a.jsx)("label",{className:"",children:"Precio del D\xf3lar:"})}),Object(a.jsxs)("div",{className:"col-md-3 col-xs-12",children:[Object(a.jsx)("input",{type:"text",id:"dolar",onKeyUp:function(e){e.target.value=e.target.value.replace(/\D/g,"").replace(/([0-9])([0-9]{2})$/,"$1,$2").replace(/\B(?=(\d{3})+(?!\d)\.?)/g,"."),b(e.target.value)},onChange:function(e){console.log(e.target.value),b(e.target.value)},className:"form-control",placeholder:"Introduzca el precio del D\xf3lar",value:p}),Object(a.jsx)("span",{children:"1$"})]})]}),Object(a.jsx)("div",{className:"form-group ",children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:m,children:"Guardar"})})]})]})}},nkd9:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return n("fC/G")}])}},[["nkd9",0,2,1,3]]]);