{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport Header from \"../components/Header\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport { setLocal } from '../utils/local';\nimport Head from \"next/head\";\nexport default function index() {\n  const router = useRouter();\n  const {\n    0: msg,\n    1: setMsg\n  } = useState(\"\");\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const result = await fetch(\"http://localhost:3001/signin\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const user = await result.json();\n\n    if (user.token) {\n      setMsg({\n        status: 1,\n        msg: `Bienvenid@: ${user.username},  en breve seras redireccionado...`\n      }); //console.log(user)\n\n      setLocal(JSON.stringify(user));\n      setTimeout(() => {\n        router.push(\"/dashboard\");\n      }, 5000);\n    } else {\n      setMsg({\n        status: 2,\n        msg: user\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"meta\", {\n        name: \"viewport\",\n        content: \"initial-scale=1.0, width=device-width\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css\"\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"containerCustom\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxs(\"h4\", {\n          className: \"title-h1 bg-light\",\n          children: [\"SISTEMA DE LECTOR DE PRECIOS(SISLECPRE) \", /*#__PURE__*/_jsx(\"small\", {\n            children: \"Ver 1.0\"\n          })]\n        }), /*#__PURE__*/_jsx(\"h5\", {\n          children: \"Login\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"container\",\n          children: [msg ? msg.status == 1 ? /*#__PURE__*/_jsxs(\"div\", {\n            className: \"alert alert-success\",\n            role: \"alert\",\n            children: [/*#__PURE__*/_jsx(\"i\", {\n              className: \"fi-rr-check\"\n            }), msg.msg]\n          }) : /*#__PURE__*/_jsx(\"div\", {\n            className: \"alert alert-danger\",\n            role: \"alert\",\n            children: msg.msg\n          }) : \"\", /*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"offset-md-3 col-md-5 col-xs-12\",\n              children: [/*#__PURE__*/_jsxs(Form, {\n                noValidate: true,\n                className: \"bg-light p-3\",\n                children: [/*#__PURE__*/_jsxs(Form.Group, {\n                  as: Row,\n                  style: {\n                    marginTop: \"30px\"\n                  },\n                  children: [/*#__PURE__*/_jsx(Form.Label, {\n                    column: true,\n                    sm: 3,\n                    children: \"Email\"\n                  }), /*#__PURE__*/_jsxs(Col, {\n                    sm: 9,\n                    children: [/*#__PURE__*/_jsx(FormControl, {\n                      onChange: e => {\n                        setEmail(e.target.value);\n                      },\n                      name: \"email\",\n                      id: \"email\",\n                      required: true,\n                      type: \"email\",\n                      placeholder: \"Email\",\n                      autoFocus: true\n                    }), /*#__PURE__*/_jsx(Form.Control.Feedback, {\n                      children: \"Correcto!\"\n                    }), /*#__PURE__*/_jsx(Form.Control.Feedback, {\n                      type: \"invalid\",\n                      children: \"Introduzca el email\"\n                    })]\n                  })]\n                }), /*#__PURE__*/_jsxs(Form.Group, {\n                  as: Row,\n                  style: {\n                    marginTop: \"30px\"\n                  },\n                  children: [/*#__PURE__*/_jsx(Form.Label, {\n                    column: true,\n                    sm: 3,\n                    children: \"Contrase\\xF1a\"\n                  }), /*#__PURE__*/_jsxs(Col, {\n                    sm: 9,\n                    children: [/*#__PURE__*/_jsx(FormControl, {\n                      onChange: e => {\n                        setPassword(e.target.value);\n                      },\n                      name: \"password\",\n                      id: \"password\",\n                      required: true,\n                      type: \"password\",\n                      placeholder: \"Password\"\n                    }), /*#__PURE__*/_jsx(Form.Control.Feedback, {\n                      children: \"Correcto!\"\n                    }), /*#__PURE__*/_jsx(Form.Control.Feedback, {\n                      type: \"invalid\",\n                      children: \"Introduzca la contrasena\"\n                    })]\n                  })]\n                })]\n              }), /*#__PURE__*/_jsx(Button, {\n                variant: \"primary mt-5\",\n                onClick: handleSubmit,\n                children: \"Iniciar sesi\\xF3n\"\n              })]\n            })\n          })]\n        })]\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}